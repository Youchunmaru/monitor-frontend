<div class="container">
      <h1>ðŸš€ Mission Control</h1>

      <div class="add-bar">
        <input [(ngModel)]="newMachineName" placeholder="Machine Name (e.g. Robot 1)" />
        <input [(ngModel)]="newMachineIp" placeholder="IP (e.g. 127.0.0.1)" />
        <button (click)="addNew()">+ Connect Machine</button>
      </div>

      <div class="dashboard-grid">

        <div class="machine-list">
          <h3>Active Agents</h3>
          <div *ngFor="let m of machines"
               class="card"
               [class.selected]="selectedMachine?.id === m.id"
               (click)="selectMachine(m)">

            <div class="status-dot" [style.background]="(m.currentCpu || 0) > 80 ? 'red' : 'green'"></div>
            <div>
              <strong>{{ m.name }}</strong>
              <div class="ip">{{ m.ip }}</div>
            </div>
            <div class="cpu-display">{{ m.currentCpu || 0 | number:'1.0-1' }}%</div>
          </div>
        </div>

        <div class="chart-area" *ngIf="selectedMachine">
          <h3>History: {{ selectedMachine.name }}</h3>
          <canvas baseChart
            [data]="lineChartData"
            [options]="lineChartOptions"
            [type]="'line'">
          </canvas>
        </div>
        <div class="chart-area placeholder" *ngIf="!selectedMachine">
          <p>Select a machine to view historical telemetry.</p>
        </div>

      </div>
    </div>
